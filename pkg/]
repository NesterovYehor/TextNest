package container

import (
	"context"

	"github.com/testcontainers/testcontainers-go/modules/kafka"
)

type KafkaContainerOpts struct {
	Topics []string
}

type KafkaContainer struct {
	*kafka.KafkaContainer
}

func StartKafka(ctx context.Context, opts *KafkaContainerOpts) (*KafkaContainer, error) {
	kafkaContainer, err := kafka.Run(ctx,
		"confluentinc/cp-kafka:7.5.0",
	)
	if err != nil {
		return nil, err
	}
	return &KafkaContainer{KafkaContainer: kafkaContainer}, nil
}

