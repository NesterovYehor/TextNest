{"time":"2024-11-22T11:27:35.734341+01:00","level":"ERROR","msg":"failed to connect to the database: %!w(MISSING)","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x14000288010, {0x105951028, 0x1400013bac0}, 0x8, {0x14000294030, 0x2f}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x14000288010, {0x105951028, 0x1400013bac0}, {0x105943368?, 0x14000282030?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:66 +0x510\n"}}
{"time":"2024-11-22T11:27:35.734951+01:00","level":"ERROR","msg":"Invalid or missing EXPIRATION_INTERVAL. Using default: 5m. Error: time: invalid duration \"\"","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x14000288010, {0x105951028, 0x1400013bac0}, 0x8, {0x140002ce060, 0x5b}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x14000288010, {0x105951028, 0x1400013bac0}, {0x105943368?, 0x14000282050?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x14000288010, {0x105951028, 0x1400013bac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:45 +0x180\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:69 +0x520\n"}}
{"time":"2024-11-22T11:27:35.73498+01:00","level":"ERROR","msg":"KAFKA_BROKER not set, using default: localhost:9092","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x14000288010, {0x105951028, 0x1400013bac0}, 0x8, {0x140002ca040, 0x33}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x14000288010, {0x105951028, 0x1400013bac0}, {0x105943368?, 0x14000282060?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x14000288010, {0x105951028, 0x1400013bac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:52 +0x1cc\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:69 +0x520\n"}}
{"time":"2024-11-22T11:27:35.735007+01:00","level":"ERROR","msg":"Invalid or missing KAFKA_RETRIES. Using default: 5. Error: strconv.Atoi: parsing \"\": invalid syntax","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x14000288010, {0x105951028, 0x1400013bac0}, 0x8, {0x140002d4000, 0x63}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x14000288010, {0x105951028, 0x1400013bac0}, {0x105943368?, 0x14000282080?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x14000288010, {0x105951028, 0x1400013bac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:79 +0x394\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:69 +0x520\n"}}
{"time":"2024-11-22T11:27:35.928359+01:00","level":"ERROR","msg":"failed to connect to the database: pq: SSL is not enabled on the server","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x14000288010, {0x105950ed8, 0x140002a4070}, 0x8, {0x1400003a190, 0x47}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x14000288010, {0x105950ed8, 0x140002a4070}, {0x105943480?, 0x14000306000?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\nmain.initializeDatabase({0x0?, 0x105951028?}, 0x14000288010, {0x105951028, 0x1400013bac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:33 +0x158\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:76 +0x5c0\n"}}
{"time":"2024-11-22T11:31:18.188515+01:00","level":"ERROR","msg":"Invalid or missing EXPIRATION_INTERVAL. Using default: 5m. Error: time: invalid duration \"\"","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x1400011c468, {0x102be9028, 0x1400012fac0}, 0x8, {0x1400013a720, 0x5b}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x1400011c468, {0x102be9028, 0x1400012fac0}, {0x102bdb368?, 0x14000117cc0?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x1400011c468, {0x102be9028, 0x1400012fac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:45 +0x180\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:68 +0x4e4\n"}}
{"time":"2024-11-22T11:31:18.188753+01:00","level":"ERROR","msg":"KAFKA_BROKER not set, using default: localhost:9092","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x1400011c468, {0x102be9028, 0x1400012fac0}, 0x8, {0x14000125400, 0x33}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x1400011c468, {0x102be9028, 0x1400012fac0}, {0x102bdb368?, 0x14000117cd0?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x1400011c468, {0x102be9028, 0x1400012fac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:52 +0x1cc\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:68 +0x4e4\n"}}
{"time":"2024-11-22T11:31:18.189311+01:00","level":"ERROR","msg":"Invalid or missing KAFKA_RETRIES. Using default: 5. Error: strconv.Atoi: parsing \"\": invalid syntax","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x1400011c468, {0x102be9028, 0x1400012fac0}, 0x8, {0x140001004d0, 0x63}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x1400011c468, {0x102be9028, 0x1400012fac0}, {0x102bdb368?, 0x14000117cf0?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x1400011c468, {0x102be9028, 0x1400012fac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:79 +0x394\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:68 +0x4e4\n"}}
{"time":"2024-11-22T11:31:18.310785+01:00","level":"ERROR","msg":"failed to connect to the database: pq: SSL is not enabled on the server","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x1400011c468, {0x102be8ed8, 0x140001fdb90}, 0x8, {0x140000ce000, 0x47}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x1400011c468, {0x102be8ed8, 0x140001fdb90}, {0x102bdb480?, 0x140000aa020?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\nmain.initializeDatabase({0x0?, 0x102be9028?}, 0x1400011c468, {0x102be9028, 0x1400012fac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:33 +0x158\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:75 +0x584\n"}}
{"time":"2024-11-22T11:34:52.019449+01:00","level":"ERROR","msg":"failed to unmarshal KAFKA_TOPICS: json: cannot unmarshal object into Go value of type []string","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x140000762c8, {0x105379028, 0x140000501c0}, 0x8, {0x140000401e0, 0x5e}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x140000762c8, {0x105379028, 0x140000501c0}, {0x10536b480?, 0x14000292600?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\ngithub.com/NesterovYehor/TextNest/services/upload_service/internal/config.LoadConfig(0x140000762c8, {0x105379028, 0x140000501c0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/internal/config/config.go:67 +0x294\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:68 +0x4e4\n"}}
{"time":"2024-11-22T11:34:52.020187+01:00","level":"ERROR","msg":"failed to load configuration: failed to unmarshal KAFKA_TOPICS: json: cannot unmarshal object into Go value of type []string","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x140000762c8, {0x105379028, 0x140000501c0}, 0x8, {0x140002c6080, 0x7c}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintFatal(0x140000762c8, {0x105379028, 0x140000501c0}, {0x10536b480?, 0x14000292640?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:40 +0x5c\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:70 +0x534\n"}}
{"time":"2024-11-22T11:37:43.768039+01:00","level":"ERROR","msg":"failed to connect to the database: pq: SSL is not enabled on the server","!BADKEY":{"trace":"goroutine 1 [running]:\nruntime/debug.Stack()\n\t/opt/homebrew/Cellar/go/1.23.3/libexec/src/runtime/debug/stack.go:26 +0x64\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).log(0x140001a0468, {0x1037dced8, 0x14000275b20}, 0x8, {0x1400003a190, 0x47}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:55 +0x1a8\ngithub.com/NesterovYehor/TextNest/pkg/logger.(*Logger).PrintError(0x140001a0468, {0x1037dced8, 0x14000275b20}, {0x1037cf480?, 0x1400007c020?}, 0x0)\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/vendor/github.com/NesterovYehor/TextNest/pkg/logger/logger.go:30 +0x5c\nmain.initializeDatabase({0x0?, 0x1037dd028?}, 0x140001a0468, {0x1037dd028, 0x140001afac0})\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:33 +0x158\nmain.main()\n\t/Users/yehornesterov/dev/Go/textnest/services/upload_service/cmd/main.go:75 +0x584\n"}}
{"time":"2024-11-22T11:41:57.55766+01:00","level":"INFO","msg":"Connected to the database"}
{"time":"2024-11-22T11:41:57.564307+01:00","level":"INFO","msg":"S3 storage initialized successfully"}
{"time":"2024-11-22T11:41:57.564911+01:00","level":"INFO","msg":"Starting gRPC server"}
{"time":"2024-11-22T16:00:47.299568+01:00","level":"INFO","msg":"gRPC server shut down gracefully"}
